{% extends 'w_base_hospital.html' %}
{% load staticfiles %}


{% block content %}
<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h3 class="page-header">Hospital Management Dashboard</h3>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            {% if new_hospital_added %}
                <div class="alert alert-success alert-dismissable">
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                    {{new_hospital_added }} created. <a href="/web/{{request.session.org_id}}/hospitaldetails/{{new_hospital_id}}/" class="alert-link">View Details</a>.
                </div>
            {% endif %}
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        List of Hospitals
                    </div>
                    <!-- /.panel-heading -->
                    <div class="panel-body">
                        <div class="dataTable_wrapper">
                            <table class="table table-striped table-bordered table-hover" style="width:100%;" id="dataTable-Hospitals">
                                <thead>
                                <tr>
                                    <th>Hospital Name</th>
                                    <th>Branch Code</th>
                                    <th>City</th>
                                    <th>State</th>
                                    <th>Phone Number</th>
                                    <th>Date Joined</th>
                                    <th></th>
                                </tr>
                                </thead>

                            </table>
                        </div>
                    </div>
                    <!-- /.panel-body -->
                </div>
                <!-- /.panel -->
            </div>
        <!--</div>-->
    </div>

</div>

{% endblock %}

{% block javascript_tags %}
    <!--<script src="{% static "sbadmin/bower_components/morrisjs/morris.min.js" %}"></script>-->
    <!--<script src="{% static "sbadmin/js/morris-data.js" %}"></script>-->
    <!-- DataTables JavaScript -->
    <!-- DataTables CSS -->
    <link href="{% static "sbadmin/bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.css" %}" rel="stylesheet">

    <!-- DataTables Responsive CSS -->
    <link href="{% static "sbadmin/bower_components/datatables-responsive/css/responsive.dataTables.scss" %}" rel="stylesheet">

    <script src="{% static "sbadmin/bower_components/datatables/media/js/jquery.dataTables.min.js" %}"></script>
    <script src="{% static "sbadmin/bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.min.js" %}"></script>

    <script>
        $(document).ready(function() {
            $('#dataTable-Hospitals').DataTable({
                "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],
                "responsive" : true,
                "processing": true,
                "serverside" : true,
                "ajax": {
                     "url": "/web/{{request.session.org_id}}/gethospitals/",
                },
                <!--"columns" : [-->
                    <!--{"data" : "usr_first_name"},-->
                    <!--{"data" : "usr_email"},-->
                    <!--{"data" : "usr_phone"},-->
                    <!--{"data" : "usr_group"}-->
                <!--]-->
            });
        });
    </script>
{% endblock %}